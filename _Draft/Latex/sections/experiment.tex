\renewcommand\thetable{\arabic{chapter}-\arabic{table}}
%\renewcommand\thefigure{\arabic{chapter}-\arabic{figure}} 
\chapter{實驗結果與分析}
\label{cha:experiment}

%本研究成果為設計程序化生成遊玩特徵的遊戲關卡，
本章節將探討前述章節之方法是否符合研究目標，將進行以下實驗：~\ref{sec:experiment-results}小節中，針對所挑選的房間採用不同權重的適應性函數，會如何影響房間內的遊戲物件之配置結果。~\ref{sec:experiment-yyy} 小節中，觀察染色體中的基因數量對於演化過程之影響。

\section{實驗定義}
\label{sec:experiment-definition}

我們使用 Invector 公司開發的 \textit{Third Person Controller - Melee Combat Template} 套件（以下簡稱 \textbf{3rdPC}）進行遊戲物件的設置。\textbf{3rdPC} 提供遊戲開發者快速建構玩家控制角色 (Player Character) 、非玩家控制角色 (Non-Player Character) 與其角色控制器或人工智能，並可製作任何類型的第三人稱動作冒險遊戲或角色扮演遊戲。

\subsection{遊戲操作說明}
\label{ssec:experiment-gameplaymanual}

玩家所控制的角色能夠移動、攻擊、防禦、跳躍與蹲下等動作。移動使用方向鍵，角色朝前後左右與其斜向組合鍵的方向移動，過程中按下 shift 按鍵將會切換至奔跑模式；攻擊使用滑鼠左鍵單擊，連續使用能夠進行三階段的攻擊，每次攻擊將消耗耐力值；防禦使用滑鼠右鍵單擊，能夠減少受到敵方攻擊的損傷；跳躍按鍵鍵盤 space 按鍵，角色能夠進行原地跳躍，在移動或奔跑的過程中亦可使用；蹲下按下鍵盤 c 按鍵，角色能夠緩慢的移動，適合觀察敵方戰況的同時進行移動。

\subsection{遊戲物件說明}
\label{ssec:experiment-gameobjects}

(編輯中)

\subsubsection{敵人}
\label{sssec:experiment-gameobjects-enemy}

敵人 (編輯中)。

\subsubsection{寶箱}
\label{sssec:experiment-gameobjects-treasure}

當玩家靠近並朝向寶箱時，按下鍵盤 E 按鍵便可以開啟寶箱，取得寶箱內容物。

\subsubsection{陷阱}
\label{sssec:experiment-gameobjects-trap}

當玩家碰觸到陷阱時，會受到一定程度的損傷。

\subsection{基因演算法參數定義}
\label{ssec:experiment-gaparameters}

在任務語法階段時，我們將非合法 ... (編輯中)

地圖片段演化階段時，每一次世代的演化過程，有 80\% 機率父母代間會進行兩點交配 (two-point crossover)；10\% 機率衍生子代會進行突變，染色體個體中有 5\% 至 20\% 的基因數量會轉換成其它的物件種類。

\section{資料收集}
\label{sec:experiment-datacollection}

在資料收集階段中，將收集第~\ref{sec:method-segments} 節中，房間容器進行基因演算法時，於實驗中各回合、世代與其個體（單一染色體）中的得分狀況。

\begin{table}[ht]
  \centering
  \caption{原始資料之欄位示意}
  \label{tbl:structure-of-rawdata}
  \bigskip
  \begin{tabular}{| l | l | l | l | l | l | l | l |}
    \hline
    回合編號 & 世代編號 & 染色體編號 & 指標 & 得分 & 座標 & 類型 & 房間 \\
    1 & 1 & 1 & Block     & 0 & (12.0, 1.0, 0.0)  & Empty & Room A \\
    1 & 1 & 1 & Intercept & 0 & (12.0, 1.0, 0.0)  & Empty & Room A \\
    1 & 1 & 1 & Patrol    & 0 & (12.0, 1.0, 0.0)  & Empty & Room A \\
    1 & 1 & 1 & Guard     & 0 & (12.0, 1.0, 0.0)  & Empty & Room A \\
    1 & 1 & 1 & Support   & 0 & (12.0, 1.0, 0.0)  & Empty & Room A \\
    1 & 1 & 1 & Block     & 0 & (24.0, 1.0, 12.0) & Empty & Room A \\
    1 & 1 & 1 & Intercept & 0 & (24.0, 1.0, 12.0) & Empty & Room A \\
    \hline
  \end{tabular}
\end{table}

\section{演化結果與其品質}
\label{sec:experiment-results}

在第~\ref{ssec:method-segments-appliedonvolumes} 小節中，展示了寶藏房與戰鬥通道（狹路驅逐、鎮守要道）三種空間的局部佈局演化結果，隨著房間容器搭配不同的適應性函數，便能夠生成出多樣性的遊戲物件佈局。在本小節中，將針對上述三種房間容器的演化結果做更進一步的分析。

\subsubsection{寶藏房}
\label{sssec:experiment-results-treasure}

編輯中。

\subsubsection{戰鬥通道（狹路驅逐）}
\label{sssec:experiment-results-narrow}

編輯中。

\subsubsection{戰鬥通道（鎮守要道）}
\label{sssec:experiment-results-trunk}

編輯中。

\section{各世代演化狀態}
\label{sec:experiment-evolutions}

由於各點基因，其中的空格、敵人兩種類型，於每一遊玩特徵的指標都具有高度意義與相關性。

\section{標準化結果之比較}
\label{sec:experiment-normalized}

在第~\ref{ssec:method-segments-multiobjectives} 小節中，提出了方程式~\ref{eq:fitnesses-all} 的標準化效果會根據常數 $c$ 的大小，影響適應值前期與後期的成長幅度。在本小節中，將改變常數 $c$（$c = 1$、$c = 2$、$c = 3$ 與 $c = 4$），觀察應用在「單一指標型」與「複合指標型」房間容器的收斂情形。單一指標型意指僅採用一項適應性函數（不包含平衡適應性函數）；反之，複合指標型表示採用多項適應性函數。

\subsubsection{單一指標型 - 寶藏房}
\label{sssec:experiment-normalized-treasure}

編輯中。

\subsubsection{複合指標型 - 戰鬥通道（狹路驅逐）}
\label{sssec:experiment-normalized-narrow}

編輯中。


\section{房型規模之比較}
\label{sec:experiment-density}

房型的大小較有可能直接影響和可行走瓦磚之數量。本階段的實驗中，我們提取第~\ref{sec:experiment-datacollection} 節的資料，將空白、敵人兩種類型的數量關係繪製成熱圖進行觀察。這是因為各項適應性函數在設計時，多以「敵人」與其餘敵人、其它遊戲物件或玩家動線為考量參考，因而推估二者間勢必存在者某些關係。

